---
title: "マージコミットを削除する"
date: 2017-09-29T00:00:00+09:00
tags: ["TIL", "Git"]
series: []
---
マージコミットを`git reset`したらどうなるの？
<!--more-->

例えば以下のようにマージ済みのコミットがあり、マージ前のブランチを消している状態として、
```
* 3333333 master
|\
| * 22222222
|/
* 1111111
```
マージ先間違えた！みたいな感じで、そのまま`git reset --soft HEAD^`しちゃうと、
```
* 3333333 master
|
* 1111111
```
こうなってしまう。

このため、マージコミットを削除する時は、マージ前のコミットにブランチを付け直しましょう。

```
git checkout -b topic.revive 2222222
```

ただし、gitの世界では、`git reset`や`git rebase`しても、該当のコミットは残っているそうなので、マージコミット削除後でも、コミットIDさえ覚えていれば、そこからブランチを復旧できる・・・ハズ。
